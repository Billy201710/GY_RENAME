# GY_Rename - AI 批量重命名工具

GY_Rename 是一款基于人工智能的批量文件重命名工具，通过示例学习的方式，帮助用户快速、高效地完成文件批量重命名任务。该工具适用于 Windows 和 macOS 平台，采用 PySide6 和 Python 开发，界面直观友好，操作简单便捷。

## 项目功能

- **AI 智能分析**：通过少量的命名示例，AI 自动学习用户的命名规则并应用到所有文件
- **三栏式布局**：原始文件、命名示范、命名分析三栏式设计，清晰直观
- **操作历史**：支持操作回退和前进，轻松调整命名结果
- **批量预览**：重命名执行前可预览所有变更，避免误操作
- **多平台支持**：同时支持 Windows 和 macOS 系统
- **拖拽操作**：支持文件拖拽导入，操作便捷
- **API 参数配置**：提供 AI 模型接口参数配置，灵活适应不同场景

## 安装说明

### 环境要求

- Python 3.8+
- PySide6
- 网络连接（用于 AI API 调用）

### 安装步骤

1. 克隆或下载本仓库

```bash
git clone https://github.com/yourusername/GY_Rename.git
cd GY_Rename
```

2. 安装依赖项

```bash
pip install -r requirements.txt
```

3. 运行应用

```bash
python src/main.py
```

## 使用指南

1. **首次使用设置**：

   - 首次打开软件时，会提示输入 AI 大模型的 API Key 及相关参数
   - 完成设置后，参数将被安全存储，后续使用无需重复输入

2. **基本操作流程**：

   - 将需要重命名的文件拖入"原始文件"列表
   - 在"命名示范"列点击"Edit"按钮，为部分文件提供重命名示例
   - 点击界面顶部的"命名分析"按钮，系统将自动分析命名规则
   - 查看"命名分析"列中的预览结果
   - 满意后点击"确认"按钮执行重命名，或继续调整示例后重新分析

3. **高级功能**：
   - 使用回退/前进按钮查看不同版本的命名分析结果
   - 通过设置按钮（齿轮图标）随时调整 AI API 参数
   - 使用"清空列表"按钮清除当前操作，开始新的重命名任务

## 项目开发规划

### 阶段一：基础架构搭建（已完成）

- [x] 创建项目基本结构
- [x] 实现 MVC 架构设计
- [x] 配置开发环境和依赖管理
- [x] 设计数据模型
- [x] 创建核心类和接口

### 阶段二：用户界面开发

- [x] 实现主窗口和三栏式布局
  - [x] 设计并实现主窗口布局和基本结构
  - [x] 实现可调整的三栏式布局
  - [x] 创建并应用统一的应用风格
  - [x] 实现工具栏和状态栏
- [x] 开发文件拖拽功能
  - [x] 实现文件拖入功能
  - [x] 支持多文件选择与拖放
  - [x] 添加拖放视觉反馈
  - [x] 处理不同文件类型识别
- [x] 创建设置对话框
  - [x] 设计并实现 API 设置界面
  - [x] 创建首次运行向导
  - [x] 实现设置项的保存与加载
  - [x] 添加设置验证功能
  - [x] 完善对话框样式与交互体验
- [ ] 实现文件列表组件
  - [x] 创建自定义文件列表控件
  - [x] 实现命名示范列编辑按钮功能
  - [ ] 实现命名分析功能并进行各项测试，以确定利用AI大模型批量重命名的可行性
  - [ ] 支持大量文件的高效显示
- [ ] 设计操作按钮和工具栏
  - [ ] 设计并实现所有操作按钮
  - [ ] 添加按钮状态反馈
  - [ ] 实现底部操作栏和确认按钮
  - [ ] 添加进度指示和状态反馈

### 阶段三：AI 集成与核心功能实现（下一阶段重点）

- [ ] 集成 AI API 调用接口
  - [ ] 实现 AI 客户端模块
  - [ ] 添加 API 请求/响应处理
  - [ ] 实现错误重试机制
  - [ ] 添加 API 调用限流和超时处理
- [ ] 实现命名规则分析算法
  - [ ] 设计模式提取算法
  - [ ] 实现递归模式识别
  - [ ] 创建文件名解析器
  - [ ] 添加特殊字符和数字处理
- [ ] 开发示例学习逻辑
  - [ ] 实现基于示例的学习算法
  - [ ] 创建样本比较功能
  - [ ] 添加规则匹配评分系统
- [ ] 实现批量重命名预览功能
  - [ ] 创建重命名预览界面
  - [ ] 实现冲突检测
  - [ ] 添加文件名有效性验证
- [ ] 添加操作历史管理
  - [ ] 创建历史记录存储
  - [ ] 实现撤销/重做功能
  - [ ] 添加会话恢复功能

### 阶段四：功能完善与性能优化

- [ ] 添加错误处理和异常管理
- [ ] 实现异步处理 AI 请求
- [ ] 优化大量文件处理性能
- [ ] 添加进度指示器
- [ ] 完善日志记录系统

### 阶段五：测试与发布

- [ ] 编写单元测试和集成测试
- [ ] 进行跨平台兼容性测试
- [ ] 用户界面和用户体验测试
- [ ] 创建安装包和发布脚本
- [ ] 撰写用户文档和帮助指南

## 项目结构

```
GY_Rename/
│
├── docs/                  # 文档目录
│   ├── api_guide.md       # API使用指南
│   └── user_manual.md     # 用户手册
│
├── src/                   # 源代码目录
│   ├── controllers/       # 控制器
│   │   ├── file_controller.py
│   │   ├── rename_controller.py
│   │   └── settings_controller.py
│   │
│   ├── models/            # 数据模型
│   │   ├── file_model.py
│   │   ├── rename_model.py
│   │   └── settings_model.py
│   │
│   ├── views/             # 视图
│   │   ├── main_window.py
│   │   ├── file_list_widget.py
│   │   ├── settings_dialog.py
│   │   └── rename_preview_widget.py
│   │
│   ├── utils/             # 工具函数
│   │   ├── ai_client.py
│   │   ├── file_operations.py
│   │   └── config_manager.py
│   │
│   └── main.py            # 程序入口
│
├── tests/                 # 测试代码目录
│   ├── test_file_operations.py
│   ├── test_rename_logic.py
│   └── test_ai_integration.py
│
├── assets/                # 资源文件目录
│   ├── icons/
│   └── styles/
│
├── requirements.txt       # 项目依赖
└── README.md              # 项目说明
```

## 技术栈

- **编程语言**：Python 3.8+
- **GUI 框架**：PySide6
- **网络请求**：httpx（异步 HTTP 客户端）
- **数据存储**：JSON 配置文件（本地配置）
- **异步处理**：asyncio
- **单元测试**：pytest
- **风格指南**：采用 PEP 8 规范

## 更新日志

### v0.2.0（当前开发版本）

- 实现了主窗口基本布局和结构
- 完成设置对话框的开发和样式设计
- 实现了 API 配置的保存与加载功能
- 添加了首次运行设置向导
- 改进了用户界面样式和体验

### v0.1.0（初始版本）

- 搭建了基本的 MVC 架构
- 创建了核心类和接口
- 设计了数据模型
- 配置了开发环境和依赖管理

## 下一步开发计划

1. 完成三栏式布局的实现
2. 开发文件列表组件和拖放功能
3. 集成 AI API 调用接口
4. 实现命名规则分析算法
5. 开发预览功能和操作历史

## 贡献指南

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

## 联系方式

- 项目维护者: Your Name
- 邮箱: your.email@example.com
- 项目链接: [https://github.com/yourusername/GY_Rename](https://github.com/yourusername/GY_Rename)
